
<!DOCTYPE html>
<html>
  <head>
    <title>Veganlog</title>

    <!--TAG RAILS-->
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS CDN -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Quicksand&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- CSS INTERNO-->
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    
    <!-- JS INCLUDE -->
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    
    <!-- SCRIPT-->
    <script src="<%= google_maps_api_autocomplete_url %>" async defer></script>
  </head>
  
  <body>
    <!-- NAVBAR-->
    <%= render 'shared/navbar'%>
    
    <!-- CONTENEDOR -->
    <div class="container-fluid">

      <!--NOTIFICACIONES -->
      <%= render 'shared/notify'%>

      <!-- VISTAS -->
      <%= yield %>

    </div>
      
   <script>
   $(document).ready(function(){

    var $carousel = $('.PriceBlocks-slider').flickity({
        cellSelector: '.PriceBlock-container',
        initialIndex: 2
    });
    
    var flkty = $carousel.data('flickity');
    
    $carousel.on('staticClick.flickity', function(event, pointer, cellElement, cellIndex) {
        if (typeof cellIndex == 'number') {
            $carousel.flickity('selectCell', cellIndex);
        }
    });
    
    $carousel.on('select.flickity', function() {
        flkty.getCellElements().forEach(function(cellElem) {
            cellElem.classList['remove']('is-next');
            cellElem.classList['remove']('is-previous');
        });
        
        var previousSlide = flkty.slides[flkty.selectedIndex - 1];
        var nextSlide = flkty.slides[flkty.selectedIndex + 1];
        
        nextSlide.getCellElements().forEach(function(cellElem) {
            cellElem.classList['add']('is-next');
        });
        previousSlide.getCellElements().forEach(function(cellElem) {
            cellElem.classList['add']('is-previous');
        });
    })
    
    function changeSlideClasses(slide, method, className) {
        slide.flickity('getCellElements').forEach(function(cellElem) {
            cellElem.classList[method](className);
        });
    }
    
})

   </script>
      
      <!-- FOOTER -->
    <footer>
      <div class="footer-copyright text-center bg-dark text-light py-3"> <%= link_to image_tag("veganlog_navbar.png", height: '25'), root_path %> by Hugo Moraga. Todos los Derechos Reservados.</div>
    </footer>

  </body>


</html>
